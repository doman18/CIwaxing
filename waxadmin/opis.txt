Ponieważ minął miesiąc od zakończenia szkolenia chciałbym przesłać 2 moje projekty CodeIgniter. Projekt "social" został przygotowywany w ramach pracy do portfolio na szkoleniu. Jest to zalążek portalu społecznościowego podobnego do facebooka. Użytkownik po zalogowaniu może dodawać wpisy do których inni użytkownicy mogą dodawać komentarze, może dodawać zdjęcie profilowe, zdjęcia do galerii a po prawej stronie zostaną wyświetlonych 10 użytkowników z tej samej miejscowości. Jeżeli takowych nie ma to będą wyświetlone losowe osoby. Arkusze stylów pomógł mi przygotować szkoleniowiec, resztę kodowałem już sam na podstawie kontkretnych wytycznych co ma być zrobione.

Drugi projekt jest znacznie bardziej rozbudowany. Zająłem się nim po skończeniu szkolenia. Dotyczy obsługi salonu depilacji. Mam nadzieję że z sukcesem zostanie wdrożony do firmy mojej siotry. Podzieliłem go na 2 osobne moduły - moduł administratora, dostępny tylko dla mojej siostry, oraz moduł pracownika. W module waxadmin administrator ma dostęp do szczegółowych danych klientów i pracowników, może nimi zarządzać, dodawać i odejmować oferty i ich kategorie. Ponadto dodana jest projekt mailingu. Dodawanie i update klientów dodatkowo jest wzbogacone o tzw wyróżnik. Np. podczas dodawania klienta sprawdzane jest czy istnieje taka sama osoba o tym samym imieniu i nazwisku. Jeżeli tak pole wyróżnika staje się obowiązkowe do wypełnienia. Wyróżnik to nic innego jak pytanie sprawdzające dotyczące bezpośrednio klienta. Np. Imię pierwszego dziecka, Imię zwierzątka domowego itp. Siostra chciała w jakiś sposób odróżnić 2 osoby o takim samym imieniu i nazwisku. Można byłoby oprzeć się na emailu lub numerze telefonu, jednak po doświadczeniach w innych salonach depilacji siostra za wszelką cenę nie chciała by do tych danych miała zwykła pracownica. Dlatego właśnie wymyśliłem obejście tego problemu w postaci wyróżnika. Oczywiście, ponieważ dublowanie się klientów występuje niezwykle rzadko więc wolałem wydzielić pole wyróżnika do osobnej tabeli. Tak by nie było wielu pustych wpisów.

Panel pracownika jest o wiele prostszy, pracownicy mogą wyświetlać oferty, dodawać i edytować klientów, wyszukiwać ich w bazie ale nie mają dostępu do wszystkich ich danych. ale samo dodawanie wizyty bardziej skomplikowane niż operacje wykonywane w panelu admina. Składa się ono z 2 etapów. W pierwszym podawany jest unikatowy numer klienta po którym wyświetlana jest lista kategorii związanych z płcią klienta i oferty w każdej z nich. Pracownica wybiera oferty dla klientki, wpisuje swój numer pracownicy i zatwierdza wybór. Wizyta jest dodawana do bazy a związane z nią zabiegi do tabeli zabiegów. Wizyta pojawia się w liście trwających wizyt w ekranie powitalnym. Najważniejszy jest tu przewidywany czas trwania który jest zliczany na podstawie czasu min i max każdej oferty. Dzięki temu procownicy mogą jednoznacznie powiedzieć każdej przychodzącej klientce kiedy będzie można ją obsłużyć. Każda pracownica może wejść do trwającej wizyty i zobaczyć szczegóły oraz wypełniony formularz ofert. Może nawet tam nanosić zmiane ale nie zostaną one zatwierdzone dopóki nie wpisze hasła którym jest hasło pracownicy obsługującej zabieg. Dlatego tylko ona może wprowadzać zmiany. Tutaj zaczyna się drugi etap czyli zatwierdzenie zabiegów. Z racji tego że Wizyta nie składa się z wpisu w jednej tabeli ale z 2 tabel ze sobą powiązanych relacją jeden-do-wielu nie jest to zwykła aktualizacja. Ponadto pracownica w tym momencie może dokonać ostatnich zmian. Klientki czasem zamawiają zabieg, ale w trakcie okazuje się że nie może być on wykonany z racji np. zbyt krótkich włosów, albo podrażnień od opalania. To jest moment by wycofać takie zabiegi które wcześniej zostały wybrane. Trzeba zauważyć że system nie usuwa wycofanych zabiegów. Siostra chciała by były one oznaczone w odopowiedni sposób. Więc każdy zabieg ma w bazie kolumnę z oznaczeniem :
1- dla zabiegów usuniętych
2 - dla zabiegów potwierdzonych (z poprzedniego wyboru)
3 - dla zabiegów nowych, dodanych w czasie zatwierdzania

Po kliknięciu zatwierdzenia tabele wizyt i zabiegów są aktualizowane, odpowiednie dane (punkty, średnia cen) aktualizowane są w tabeli klientki a zabieg znika z ekranu powitalnego


Podsumowanie:
To jest opis podstawowy działania systemu, wiele rzeczy nie mogę wyjaśnić ponieważ wyszedł by mi jeszcze dłuższy elaborat którym Pana nie chcę zanudzać. Co najwyżej mogę wytłumaczyć je osobiście.
Podstawy są zrobione. W tej chwili jestem w trakcie implementacji funkcji "8 zabieg gratis" w panelu zatwierdzania wizyty, muszę jeszcze dodać statystyki dotyczące pracy salonów (dzienna ilość klientek, utarg itp) oraz dopracować wiele rzeczy. Np. zapytania do bazy zrobić bardziej szczegółowe, odpowiadające konkretnym potrzebom funkcji, zrobić ograniczenia znaków w formularzach, stworzyć 2 osobnych użytkowników dla obu panelów a na końcu wszystko ostylować. No i oczywiście dodać funkcję logowania dla admina, choć nie wiem czy będzie pottrzebna bo waxadmin będzie tylko na prywatnym komputerze siostry.
 Paradoksalnie najwięcej problemów stwarza nie samo kodowanie, czy rozwiązywanie problemów algorytmicznych ale obmyślanie "logistyki" systemu oraz kolumn w bazie danych.Ponadto dość dotkliwie odczuwam brak znajomości Java Script. Dzięki niemu mógłbym np podliczać sumę punktów i cenę zabiegów w jednym oknie, zrobić formularz ofert na zasadzie jquery accordion lub dodać pasek stanu dla wysyłania mailingu lub formatowanie tekstu dla wysyłanych maili. Więc nauka jquery czy ajax wydaje się nieunikniona
Ponadto bardzo chciałbym nauczyć się debugowania w Eclipse ponieważ sprawdzanie zmiennych i tablic var_dump'ami jest bardzo żmudne.

Zdaję sobię sprawę że mój kod nie koniecznie wygląda profesjonalnie i wiem że wiele się jeszcze musiałbym nauczyć. Ale dopiero od miesiąca jestem "na TY" z programowaniem obiektowym i ogólnie programowaniem na poważnie. Bardzo chciałbym jednak kontynuować tą drogę i jestem otwarty na naukę.